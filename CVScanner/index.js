console.log('this is cv scanner')

const data = {
  'results': [
    {
      'gender': 'male',
      'name': {
        'title': 'Mr',
        'first': 'faluk',
        'last': 'pathan'
      },
      'location': {
        'street': {
          'number': 3614,
          'name': 'Tunalı Hilmi Cd'
        },
        'city': 'Gaziantep',
        'state': 'Rize',
        'country': 'Turkey',
        'postcode': 12367,
        'coordinates': {
          'latitude': '69.4693',
          'longitude': '-13.1457'
        },
        'timezone': {
          'offset': '-3:30',
          'description': 'Newfoundland'
        }
      },
      'email': 'babur.yorulmaz@example.com',
      'login': {
        'uuid': '1e55a5a0-4d8b-486a-a602-22b0272a0ca7',
        'username': 'angrydog265',
        'password': 'gorgeous',
        'salt': 'qZFRGAOk',
        'md5': 'e754584f91157c51f23701feac961589',
        'sha1': 'dba0d2e3810fd77b4754fc37a9750ece860f67a1',
        'sha256': '0955712721251bcf5c5529f880eb84a8acdd483f879834c0664d25a186aa5a48'
      },
      'dob': {
        'date': '1951-11-27T02:26:13.126Z',
        'age': 71
      },
      'registered': {
        'date': '2015-03-22T12:33:06.576Z',
        'age': 7
      },
      'phone': '(141)-608-6416',
      'cell': '(751)-538-0718',
      'id': {
        'name': '',
        'value': null
      },
      'picture': {
        'large': 'https://randomuser.me/api/portraits/men/3.jpg',
        'medium': 'https://randomuser.me/api/portraits/med/men/3.jpg',
        'thumbnail': 'https://randomuser.me/api/portraits/thumb/men/3.jpg'
      },
      'nat': 'TR'
    },
    {
      'gender': 'male',
      'name': {
        'title': 'Mr',
        'first': 'jiynaso',
        'last': 'polkaso'
      },
      'location': {
        'street': {
          'number': 3614,
          'name': 'Tunalı Hilmi Cd'
        },
        'city': 'Gaziantep',
        'state': 'Rize',
        'country': 'Turkey',
        'postcode': 12367,
        'coordinates': {
          'latitude': '69.4693',
          'longitude': '-13.1457'
        },
        'timezone': {
          'offset': '-3:30',
          'description': 'Newfoundland'
        }
      },
      'email': 'babur.yorulmaz@example.com',
      'login': {
        'uuid': '1e55a5a0-4d8b-486a-a602-22b0272a0ca7',
        'username': 'angrydog265',
        'password': 'gorgeous',
        'salt': 'qZFRGAOk',
        'md5': 'e754584f91157c51f23701feac961589',
        'sha1': 'dba0d2e3810fd77b4754fc37a9750ece860f67a1',
        'sha256': '0955712721251bcf5c5529f880eb84a8acdd483f879834c0664d25a186aa5a48'
      },
      'dob': {
        'date': '1951-11-27T02:26:13.126Z',
        'age': 71
      },
      'registered': {
        'date': '2015-03-22T12:33:06.576Z',
        'age': 7
      },
      'phone': '(141)-608-6416',
      'cell': '(751)-538-0718',
      'id': {
        'name': '',
        'value': null
      },
      'picture': {
        'large': 'https://randomuser.me/api/portraits/men/10.jpg',
        'medium': 'https://randomuser.me/api/portraits/med/men/10.jpg',
        'thumbnail': 'https://randomuser.me/api/portraits/thumb/men/10.jpg'
      },
      'nat': 'TR'
    },
    {
      'gender': 'female',
      'name': {
        'title': 'Mrs',
        'first': 'riya',
        'last': 'sharma'
      },
      'location': {
        'street': {
          'number': 3614,
          'name': 'Tunalı Hilmi Cd'
        },
        'city': 'Gaziantep',
        'state': 'Rize',
        'country': 'Turkey',
        'postcode': 12367,
        'coordinates': {
          'latitude': '69.4693',
          'longitude': '-13.1457'
        },
        'timezone': {
          'offset': '-3:30',
          'description': 'Newfoundland'
        }
      },
      'email': 'babur.yorulmaz@example.com',
      'login': {
        'uuid': '1e55a5a0-4d8b-486a-a602-22b0272a0ca7',
        'username': 'angrydog265',
        'password': 'gorgeous',
        'salt': 'qZFRGAOk',
        'md5': 'e754584f91157c51f23701feac961589',
        'sha1': 'dba0d2e3810fd77b4754fc37a9750ece860f67a1',
        'sha256': '0955712721251bcf5c5529f880eb84a8acdd483f879834c0664d25a186aa5a48'
      },
      'dob': {
        'date': '1951-11-27T02:26:13.126Z',
        'age': 12
      },
      'registered': {
        'date': '2015-03-22T12:33:06.576Z',
        'age': 7
      },
      'phone': '(141)-608-6416',
      'cell': '(751)-538-0718',
      'id': {
        'name': '',
        'value': null
      },
      'picture': {
        'large': 'https://randomuser.me/api/portraits/women/12.jpg',
        'medium': 'https://randomuser.me/api/portraits/med/women/12.jpg',
        'thumbnail': 'https://randomuser.me/api/portraits/thumb/women/12.jpg'
      },
      'nat': 'TR'
    },
    {
      'gender': 'male',
      'name': {
        'title': 'Mr',
        'first': 'yaknshi',
        'last': 'sharlshu'
      },
      'location': {
        'street': {
          'number': 3614,
          'name': 'Tunalı Hilmi Cd'
        },
        'city': 'Gaziantep',
        'state': 'Rize',
        'country': 'Turkey',
        'postcode': 12367,
        'coordinates': {
          'latitude': '69.4693',
          'longitude': '-13.1457'
        },
        'timezone': {
          'offset': '-3:30',
          'description': 'Newfoundland'
        }
      },
      'email': 'babur.yorulmaz@example.com',
      'login': {
        'uuid': '1e55a5a0-4d8b-486a-a602-22b0272a0ca7',
        'username': 'angrydog265',
        'password': 'gorgeous',
        'salt': 'qZFRGAOk',
        'md5': 'e754584f91157c51f23701feac961589',
        'sha1': 'dba0d2e3810fd77b4754fc37a9750ece860f67a1',
        'sha256': '0955712721251bcf5c5529f880eb84a8acdd483f879834c0664d25a186aa5a48'
      },
      'dob': {
        'date': '1951-11-27T02:26:13.126Z',
        'age': 71
      },
      'registered': {
        'date': '2015-03-22T12:33:06.576Z',
        'age': 7
      },
      'phone': '(141)-608-6416',
      'cell': '(751)-538-0718',
      'id': {
        'name': '',
        'value': null
      },
      'picture': {
        'large': 'https://randomuser.me/api/portraits/men/88.jpg',
        'medium': 'https://randomuser.me/api/portraits/med/men/88.jpg',
        'thumbnail': 'https://randomuser.me/api/portraits/thumb/men/88.jpg'
      },
      'nat': 'TR'
    },
    {
      'gender': 'male',
      'name': {
        'title': 'Mr',
        'first': 'harsh',
        'last': 'yancknso'
      },
      'location': {
        'street': {
          'number': 3614,
          'name': 'Tunalı Hilmi Cd'
        },
        'city': 'Gaziantep',
        'state': 'Rize',
        'country': 'Turkey',
        'postcode': 12367,
        'coordinates': {
          'latitude': '69.4693',
          'longitude': '-13.1457'
        },
        'timezone': {
          'offset': '-3:30',
          'description': 'Newfoundland'
        }
      },
      'email': 'babur.yorulmaz@example.com',
      'login': {
        'uuid': '1e55a5a0-4d8b-486a-a602-22b0272a0ca7',
        'username': 'angrydog265',
        'password': 'gorgeous',
        'salt': 'qZFRGAOk',
        'md5': 'e754584f91157c51f23701feac961589',
        'sha1': 'dba0d2e3810fd77b4754fc37a9750ece860f67a1',
        'sha256': '0955712721251bcf5c5529f880eb84a8acdd483f879834c0664d25a186aa5a48'
      },
      'dob': {
        'date': '1951-11-27T02:26:13.126Z',
        'age': 71
      },
      'registered': {
        'date': '2015-03-22T12:33:06.576Z',
        'age': 7
      },
      'phone': '(141)-608-6416',
      'cell': '(751)-538-0718',
      'id': {
        'name': '',
        'value': null
      },
      'picture': {
        'large': 'https://randomuser.me/api/portraits/men/7.jpg',
        'medium': 'https://randomuser.me/api/portraits/med/men/7.jpg',
        'thumbnail': 'https://randomuser.me/api/portraits/thumb/men/7.jpg'
      },
      'nat': 'TR'
    },
    {
      'gender': 'male',
      'name': {
        'title': 'Mr',
        'first': 'rahina',
        'last': 'Yorulmaz'
      },
      'location': {
        'street': {
          'number': 3614,
          'name': 'Tunalı Hilmi Cd'
        },
        'city': 'Gaziantep',
        'state': 'Rize',
        'country': 'Turkey',
        'postcode': 12367,
        'coordinates': {
          'latitude': '69.4693',
          'longitude': '-13.1457'
        },
        'timezone': {
          'offset': '-3:30',
          'description': 'Newfoundland'
        }
      },
      'email': 'babur.yorulmaz@example.com',
      'login': {
        'uuid': '1e55a5a0-4d8b-486a-a602-22b0272a0ca7',
        'username': 'angrydog265',
        'password': 'gorgeous',
        'salt': 'qZFRGAOk',
        'md5': 'e754584f91157c51f23701feac961589',
        'sha1': 'dba0d2e3810fd77b4754fc37a9750ece860f67a1',
        'sha256': '0955712721251bcf5c5529f880eb84a8acdd483f879834c0664d25a186aa5a48'
      },
      'dob': {
        'date': '1951-11-27T02:26:13.126Z',
        'age': 71
      },
      'registered': {
        'date': '2015-03-22T12:33:06.576Z',
        'age': 7
      },
      'phone': '(141)-608-6416',
      'cell': '(751)-538-0718',
      'id': {
        'name': '',
        'value': null
      },
      'picture': {
        'large': 'https://randomuser.me/api/portraits/women/4.jpg',
        'medium': 'https://randomuser.me/api/portraits/med/women/4.jpg',
        'thumbnail': 'https://randomuser.me/api/portraits/thumb/women/4.jpg'
      },
      'nat': 'TR'
    }
  ],
  'info': {
    'seed': 'c7091f40178f9866',
    'results': 1,
    'page': 1,
    'version': '1.3'
  }
}

function profileIterator (results) {
  iteratorCount = 0

  return {
    next: function () {
      return iteratorCount < results.length ? {
        value: results[iteratorCount++],
        done: false
      } : {
        done: false
      }
    }
  }
}
// const nextProfiles 

function getPorfiles () {
  url = `https://randomuser.me/api/`
  return fetch(url).then((response) => {
    return response.text()
  }).then((data) => {

    var json = JSON.parse(data)

    const results = json.results

    // results.array.forEach(element => {

  //   var name = ` Name : ${element.name.titel} ${  element.name.titel} ${element.name.titel}`
  //   var email = `Email ; ${element.email}`
  //   var profilePhoto = `${element.picture.medium}`
  //   var phoneNumber = `Phone Number : ${element.phone}`
  // })
  })
}

// console.log(getPorfiles().)

let xhr = new XMLHttpRequest()

// xhr.open('GET', `https://newsapi.org/v2/top-headlines?country=in&apiKey=${apiKey}`,true)
xhr.open('GET', `index.json`, true)

// var res = {}

xhr.onload = function () {
  if (xhr.status == 200) {
    json = JSON.parse(this.responseText)

    // const results = json.results
    // var res = json.results

    // const nextProfiles = profileIterator(res)

    // console.log(res)
    // const nextProfiles = profileIterator(results)

  // callback(nextProfiles)
  }
}

xhr.send()

const nextProfiles = profileIterator(data.results)
// console.log(window.res)
nextProfile()

const nextBtm = document.getElementById('next')

nextBtm.addEventListener('click', nextProfile)

function nextProfile () {
  const image = document.getElementById('image')
  const profile = document.getElementById('profile')

  const profileOfCandidate = nextProfiles.next().value

  console.log(profileOfCandidate)

  if (profileOfCandidate != undefined) {
    image.innerHTML = ` <img src="${profileOfCandidate.picture.large}" alt="">`

    profile.innerHTML = `<ul class="list-group">
    <li class="list-group-item">Name: ${profileOfCandidate.name.title} ${  profileOfCandidate.name.first} ${profileOfCandidate.name.last}</li>
    <li class="list-group-item">Email : ${profileOfCandidate.email} years old</li>
    <li class="list-group-item">Phone number : ${profileOfCandidate.phone}</li>
  </ul>`
  }else {
    window.location.reload()
  }
}
